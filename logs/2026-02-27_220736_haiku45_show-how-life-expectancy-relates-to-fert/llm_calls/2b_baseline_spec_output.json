{
  "vegalite_spec": {
    "title": "Life Expectancy vs Income Level Across Countries",
    "width": 900,
    "height": 600,
    "data": {
      "url": "gapminder-health-income.csv"
    },
    "mark": {
      "type": "circle",
      "opacity": 0.7,
      "stroke": "white",
      "strokeWidth": 1
    },
    "encoding": {
      "x": {
        "field": "income",
        "type": "quantitative",
        "scale": {
          "type": "log"
        },
        "title": "Income per Capita (USD, log scale)",
        "axis": {
          "format": "$,.0f"
        }
      },
      "y": {
        "field": "health",
        "type": "quantitative",
        "title": "Life Expectancy (years)",
        "scale": {
          "zero": false
        }
      },
      "size": {
        "field": "population",
        "type": "quantitative",
        "title": "Population",
        "scale": {
          "range": [
            50,
            800
          ]
        }
      },
      "color": {
        "field": "region",
        "type": "nominal",
        "title": "Region",
        "scale": {
          "scheme": "category10"
        }
      },
      "tooltip": [
        {
          "field": "country",
          "type": "nominal",
          "title": "Country"
        },
        {
          "field": "health",
          "type": "quantitative",
          "title": "Life Expectancy",
          "format": ".1f"
        },
        {
          "field": "income",
          "type": "quantitative",
          "title": "Income per Capita",
          "format": "$,.0f"
        },
        {
          "field": "population",
          "type": "quantitative",
          "title": "Population",
          "format": ","
        },
        {
          "field": "region",
          "type": "nominal",
          "title": "Region"
        }
      ]
    }
  },
  "reasoning": "This scatter plot effectively shows the relationship between income (x-axis, log scale) and life expectancy (y-axis). The log scale for income is crucial because it reveals the non-linear relationship\u2014diminishing returns at higher income levels. Circle size represents population, allowing viewers to see which countries are most populous. Color encoding by region reveals whether geographic/cultural patterns explain additional variance beyond income. The log scale transforms the wide income range (599-132,877) into a readable visualization. Tooltips enable detailed exploration of individual countries. This design answers the user's question: income clearly explains much of the life expectancy pattern, but regional clustering suggests other factors also play a role."
}